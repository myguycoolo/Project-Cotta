"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.watch = void 0;
function watch(globs, optionsOrListener, listener) {
    const chokidar = require('chokidar');
    let options = {};
    if (typeof optionsOrListener === 'function') {
        listener = optionsOrListener;
        options = {};
    }
    else {
        options = optionsOrListener;
    }
    options = { ...options, ignoreInitial: true };
    // Wrapping this function teaches the glob-watcher about how to deal with sync taskFunction
    const innerListener = listener; // eslint-disable-line
    const watcher = chokidar.watch(globs, options);
    for (const evt of ['add', 'change', 'unlink']) {
        watcher.on(evt, innerListener);
    }
    return watcher;
}
exports.watch = watch;
